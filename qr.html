<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QR L√¨ x√¨</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg">
  <main class="wrap">
    <section class="card">
      <h1 class="title">Qu√©t QR ƒë·ªÉ m·ªü l√¨ x√¨ üéá</h1>
      <p class="sub">Qu√©t b·∫±ng MoMo/Camera ƒë·ªÅu ra link.</p>

      <div class="qrShell">
        <div id="qr"></div>
      </div>

      <p class="tiny" id="urlText"></p>

      <div class="row">
        <a class="btn ghost" href="index.html">Test m·ªü trang</a>
      </div>
    </section>
  </main>

  <!-- QR code styling library -->
  <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
  <script>
    // ‚úÖ N·∫øu b·∫°n deploy GitHub Pages d·∫°ng https://username.github.io/lixi-momo-qr/
    // th√¨ TARGET_URL t·ª± suy ra s·∫Ω ƒë√∫ng.
    const TARGET_URL =
      window.location.origin +
      window.location.pathname.replace(/\/[^\/]*$/, "/") +
      "index.html";

    document.getElementById("urlText").textContent = "Link: " + TARGET_URL;

    const qrCode = new QRCodeStyling({
      width: 280,
      height: 280,
      type: "canvas",
      data: TARGET_URL,
      image: "assets/logo.png", // logo ·ªü gi·ªØa
      margin: 8,
      qrOptions: {
        errorCorrectionLevel: "H" // quan tr·ªçng ƒë·ªÉ ch√®n logo v·∫´n scan ƒë∆∞·ª£c
      },
      dotsOptions: {
        type: "rounded",
        color: "#000000"
      },
      cornersSquareOptions: {
        type: "extra-rounded",
        color: "#000000"
      },
      cornersDotOptions: {
        type: "dot",
        color: "#000000"
      },
      backgroundOptions: {
        color: "#ffffff"
      },
      imageOptions: {
        crossOrigin: "anonymous",
        margin: 6,
        imageSize: 0.22 // logo to v·ª´a
      }
    });

    qrCode.append(document.getElementById("qr"));
  </script>
</body>
</html>
